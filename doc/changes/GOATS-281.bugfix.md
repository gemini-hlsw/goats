Dynamic WebSocket URL generation: Built WebSocket URL from window and request.