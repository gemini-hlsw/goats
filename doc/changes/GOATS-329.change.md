Refactored codebase for better organization.